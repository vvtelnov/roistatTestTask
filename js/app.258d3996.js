(function(){"use strict";var e={189:function(e,o,n){var t=n(9242),s=n(3396);const r={id:"app"},a={class:"phone-book"};function p(e,o,n,p,l,d){const i=(0,s.up)("DefaultButton"),u=(0,s.up)("PhoneBook"),c=(0,s.up)("PopupForm");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",a,[(0,s.Wm)(i,{class:"phone-book__add-btn",onClick:d.togglePopup},{default:(0,s.w5)((()=>[(0,s.Uk)("Добавить")])),_:1},8,["onClick"]),(0,s.Wm)(u,{class:"phone-book__table",phoneBookRows:l.phoneBookRows},null,8,["phoneBookRows"])]),(0,s.wy)((0,s.Wm)(c,{onClosePopup:d.togglePopup,onAddNewPhonebookRow:d.addNewPhonebookRow,phoneBookNamesAndId:l.phoneBookNamesAndId},null,8,["onClosePopup","onAddNewPhonebookRow","phoneBookNamesAndId"]),[[t.F8,l.popupOpened]])])}n(7658);var l=n(7139);const d=e=>((0,s.dD)("data-v-d2bb1e7a"),e=e(),(0,s.Cn)(),e),i={class:"add-users-form__input-container"},u=d((()=>(0,s._)("label",{class:"add-users-form__label",for:"name-input"},"Имя",-1))),c={class:"add-users-form__input-container"},h=d((()=>(0,s._)("label",{class:"add-users-form__label",for:"phone-input"},"Телефон",-1))),m={class:"add-users-form__input-container"},f=d((()=>(0,s._)("label",{class:"add-users-form__label",for:"parent-input"},"Начальник",-1))),_=d((()=>(0,s._)("option",{value:null},"Нет начальника",-1))),w=["value"];function v(e,o,n,r,a,p){const d=(0,s.up)("DefaultButton"),v=(0,s.up)("FullscreenPopup");return(0,s.wg)(),(0,s.j4)(v,{popupTitle:"Добавление пользователя",hasCloseBtn:!0},{default:(0,s.w5)((()=>[(0,s._)("form",{class:"add-users-form",onSubmit:o[3]||(o[3]=(0,t.iM)(((...e)=>p.submitForm&&p.submitForm(...e)),["prevent"]))},[(0,s._)("div",i,[u,(0,s.wy)((0,s._)("input",{class:"add-users-form__input",id:"name-input",type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>a.formInputs.name=e)},null,512),[[t.nr,a.formInputs.name]])]),(0,s._)("div",c,[h,(0,s.wy)((0,s._)("input",{class:"add-users-form__input",id:"phone-input",type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>a.formInputs.phone=e)},null,512),[[t.nr,a.formInputs.phone]])]),(0,s._)("div",m,[f,(0,s.wy)((0,s._)("select",{class:"add-users-form__input",id:"parent-input","onUpdate:modelValue":o[2]||(o[2]=e=>a.formInputs.parent=e)},[_,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.phoneBookNamesAndId,((e,o)=>((0,s.wg)(),(0,s.iD)("option",{key:o,value:{name:e.name,arrIndex:e.id}},(0,l.zw)(e.name),9,w)))),128))],512),[[t.bM,a.formInputs.parent]])]),(0,s.Wm)(d,{class:"from__submit-btn"},{default:(0,s.w5)((()=>[(0,s.Uk)("Сохранить")])),_:1})],32)])),_:1})}const b={class:"popup-overlay"},g={class:"popup"},k={class:"popup__title-container"},B={class:"popup__title"};function y(e,o,n,t,r,a){const p=(0,s.up)("CloseButton");return(0,s.wg)(),(0,s.iD)("div",b,[(0,s._)("div",g,[(0,s._)("div",k,[(0,s._)("h3",B,(0,l.zw)(n.popupTitle),1),n.hasCloseBtn?((0,s.wg)(),(0,s.j4)(p,{key:0,class:"popup__close-btn",onClick:a.closePopup},null,8,["onClick"])):(0,s.kq)("",!0)]),(0,s.WI)(e.$slots,"default",{},void 0,!0)])])}const I={class:"close-button"};function N(e,o,n,t,r,a){return(0,s.wg)(),(0,s.iD)("button",I,"x")}var R={},C=n(89);const A=(0,C.Z)(R,[["render",N],["__scopeId","data-v-79a3c21c"]]);var P=A,D={components:{CloseButton:P},props:{popupTitle:{type:String,required:!0},hasCloseBtn:{type:Boolean,required:!0}},methods:{closePopup(){this.$emit("closePopup")}}};const O=(0,C.Z)(D,[["render",y],["__scopeId","data-v-4fa93c58"]]);var F=O;const x={class:"button"};function S(e,o,n,t,r,a){return(0,s.wg)(),(0,s.iD)("button",x,[(0,s.WI)(e.$slots,"default",{},void 0,!0)])}var T={};const q=(0,C.Z)(T,[["render",S],["__scopeId","data-v-fa0a6902"]]);var L=q,M={components:{FullscreenPopup:F,DefaultButton:L},data(){return{formInputs:{name:"",phone:"",parent:null}}},props:{phoneBookNamesAndId:{type:Array,required:!0}},methods:{submitForm(){this.$emit("addNewPhonebookRow",this.formInputs),this.$emit("closePopup"),this.formInputs={name:"",phone:"",parent:null}}}};const W=(0,C.Z)(M,[["render",v],["__scopeId","data-v-d2bb1e7a"]]);var j=W;const Z=e=>((0,s.dD)("data-v-32257043"),e=e(),(0,s.Cn)(),e),U={class:"phonebook"},$={key:0},z=Z((()=>(0,s._)("p",{class:"phonebook__empty-text"},"Телефонная книга пока пуста.",-1))),J=[z],V={key:1};function H(e,o,n,t,r,a){const p=(0,s.up)("TableRow"),l=(0,s.up)("TableBody");return(0,s.wg)(),(0,s.iD)("div",U,[(0,s.Wm)(p,{firstCol:"Имя",secondCol:"Телефон",hasNestedRows:!1}),0===n.phoneBookRows.length?((0,s.wg)(),(0,s.iD)("div",$,J)):((0,s.wg)(),(0,s.iD)("div",V,[(0,s.Wm)(l,{tableRows:n.phoneBookRows},null,8,["tableRows"])]))])}const K={class:"table"},Y={key:0};function E(e,o,n,t,r,a){const p=(0,s.up)("TableRow"),l=(0,s.up)("TableBody",!0);return(0,s.wg)(),(0,s.iD)("div",K,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.tableRows,((e,o)=>((0,s.wg)(),(0,s.iD)("div",{key:o},[(0,s.Wm)(p,{firstCol:e.name,secondCol:e.phone,hasNestedRows:a.hasNestedRows(e),marginForNestedLvl:a.calcMarginForNestedLvl},null,8,["firstCol","secondCol","hasNestedRows","marginForNestedLvl"]),a.hasNestedRows(e)?((0,s.wg)(),(0,s.iD)("div",Y,[(0,s.Wm)(l,{tableRows:e.nested,nestedLvl:n.nestedLvl+1},null,8,["tableRows","nestedLvl"])])):(0,s.kq)("",!0)])))),128))])}const G={class:"table__row"},Q={class:"table__cell table__cell_second-col"};function X(e,o,n,t,r,a){const p=(0,s.up)("NestingControlButton");return(0,s.wg)(),(0,s.iD)("div",G,[(0,s._)("div",{class:"table__cell table__cell_first-col",style:(0,l.j5)({width:n.marginForNestedLvl})},[(0,s.Wm)(p,{classAppearingModificator:a.getClassAppearingModificator,class:"table__nesting-control-btn"},null,8,["classAppearingModificator"]),(0,s.Uk)(" "+(0,l.zw)(n.firstCol),1)],4),(0,s._)("div",Q,(0,l.zw)(n.secondCol),1)])}function ee(e,o,n,t,r,a){return(0,s.wg)(),(0,s.iD)("button",{class:(0,l.C_)(["nesting-control-button",n.classAppearingModificator])},">",2)}var oe={props:{classAppearingModificator:{type:String,required:!0}}};const ne=(0,C.Z)(oe,[["render",ee],["__scopeId","data-v-1997cce9"]]);var te=ne,se={components:{NestingControlButton:te},props:{firstCol:{type:String,required:!0},secondCol:{type:String,required:!0},hasNestedRows:{type:Boolean,required:!0},marginForNestedLvl:{type:String,default:"35%"}},computed:{getClassAppearingModificator(){return this.hasNestedRows?"nesting-control-button_action_expand":"nesting-control-button_visibility_hidden"}}};const re=(0,C.Z)(se,[["render",X],["__scopeId","data-v-3803347d"]]);var ae=re,pe={name:"TableBody",components:{TableRow:ae},props:{tableRows:{type:Array,required:!0},nestedLvl:{type:Number,default:0}},methods:{hasNestedRows(e){return Boolean(0!==e.nested.length)}},computed:{calcMarginForNestedLvl(){return 35-5*this.nestedLvl+"%"}}};const le=(0,C.Z)(pe,[["render",E],["__scopeId","data-v-bffbf272"]]);var de=le,ie={name:"PhoneBook",components:{TableBody:de,TableRow:ae},props:{phoneBookRows:{type:Array,required:!0}}};const ue=(0,C.Z)(ie,[["render",H],["__scopeId","data-v-32257043"]]);var ce=ue,he={components:{PopupForm:j,PhoneBook:ce,DefaultButton:L},data(){return{phoneBookRows:[],popupOpened:!1,phoneBookNamesAndId:[]}},mounted(){this.phoneBookRows=JSON.parse(localStorage.getItem("phoneBookRows"))||[],this.phoneBookNamesAndId=JSON.parse(localStorage.getItem("phoneBookNamesAndId"))||[]},watch:{phoneBookRows:{handler(e){localStorage.setItem("phoneBookRows",JSON.stringify(e))},deep:!0},phoneBookNamesAndId:{handler(e){localStorage.setItem("phoneBookNamesAndId",JSON.stringify(e))},deep:!0}},methods:{togglePopup(){this.popupOpened=!this.popupOpened},addNewPhonebookRow({name:e,phone:o,parent:n},t=this.phoneBookRows){if(null===n)this.phoneBookRows.push({name:e,phone:o,nested:[]});else if(t[n.arrIndex]&&t[n.arrIndex].name===n.name)t[n.arrIndex].nested.push({name:e,phone:o,nested:[]});else for(let s=0;s<t.length;s++)this.phoneBookRows[s].nested.length>0&&this.addNewPhonebookRow({name:e,phone:o,parent:n},t[s].nested);this.phoneBookNamesAndId=[],this.updatePhoneBookNamesAndId(this.phoneBookRows)},updatePhoneBookNamesAndId(e){for(let o=0;o<e.length;o++){const n=e[o];this.phoneBookNamesAndId.push({name:n.name,id:o}),Array.isArray(n.nested)&&0!==n.nested.length&&this.updatePhoneBookNamesAndId(n.nested)}}}};const me=(0,C.Z)(he,[["render",p]]);var fe=me;(0,t.ri)(fe).mount("#app")}},o={};function n(t){var s=o[t];if(void 0!==s)return s.exports;var r=o[t]={exports:{}};return e[t].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(o,t,s,r){if(!t){var a=1/0;for(i=0;i<e.length;i++){t=e[i][0],s=e[i][1],r=e[i][2];for(var p=!0,l=0;l<t.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](t[l])}))?t.splice(l--,1):(p=!1,r<a&&(a=r));if(p){e.splice(i--,1);var d=s();void 0!==d&&(o=d)}}return o}r=r||0;for(var i=e.length;i>0&&e[i-1][2]>r;i--)e[i]=e[i-1];e[i]=[t,s,r]}}(),function(){n.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(o,{a:o}),o}}(),function(){n.d=function(e,o){for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){var e={143:0};n.O.j=function(o){return 0===e[o]};var o=function(o,t){var s,r,a=t[0],p=t[1],l=t[2],d=0;if(a.some((function(o){return 0!==e[o]}))){for(s in p)n.o(p,s)&&(n.m[s]=p[s]);if(l)var i=l(n)}for(o&&o(t);d<a.length;d++)r=a[d],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(i)},t=self["webpackChunkvue_test_telnov"]=self["webpackChunkvue_test_telnov"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=n.O(void 0,[998],(function(){return n(189)}));t=n.O(t)})();
//# sourceMappingURL=app.258d3996.js.map